{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aravindhan/Downloads/formik-library-mgmt-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/aravindhan/Downloads/formik-library-mgmt-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/aravindhan/Downloads/formik-library-mgmt-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import React,{useState,useEffect}from'react';import axios from'axios';import Table from'react-bootstrap/Table';import Button from'react-bootstrap/Button';import{Link,useNavigate}from'react-router-dom';import Dashboard from'./Dashboard';import Createbook from'./Createbook';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Listbooks(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userdata=_useState2[0],setUserdata=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return axios.get(\"https://6341636a20f1f9d7997200a7.mockapi.io/books\");case 4:response=_context.sent;setUserdata(response.data);_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);case 10:setLoading(false);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _getData.apply(this,arguments);}getData();//call user data when loading the file\n},[]);var handleProceed=function handleProceed(id,status){if(status===1){navigate(\"/Editbook/\".concat(id));}else{}};function onDeleteData(_x){return _onDeleteData.apply(this,arguments);}function _onDeleteData(){_onDeleteData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var responseData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.prev=1;_context2.next=4;return axios.delete(\"https://6341636a20f1f9d7997200a7.mockapi.io/books/\".concat(id));case 4:responseData=userdata.filter(function(item){return id!==item.id;});setUserdata(responseData);alert('deleted successfully');_context2.next=11;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);case 11:setLoading(false);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return _onDeleteData.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Dashboard, Library MANAGEMENT using formik\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{}),children:\"Dashboard\"}),\" |\",/*#__PURE__*/_jsx(Link,{to:\"/Createbook\",element:/*#__PURE__*/_jsx(Createbook,{}),children:\"Create Book\"})]}),/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:\"List Books\"}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading\"}),!loading&&/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Publications\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:userdata?userdata.map(function(row){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.id}),/*#__PURE__*/_jsx(\"td\",{children:row.name}),/*#__PURE__*/_jsx(\"td\",{children:row.author}),/*#__PURE__*/_jsx(\"td\",{children:row.publications}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return handleProceed(row.id,1);},children:\"Update\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return onDeleteData(row.id);},children:\"Delete\"})]})]},row.id);}):\" Loading...\"})]})]});}export default Listbooks;","map":{"version":3,"names":["React","useState","useEffect","axios","Table","Button","Link","useNavigate","Dashboard","Createbook","Listbooks","navigate","userdata","setUserdata","loading","setLoading","getData","get","response","data","handleProceed","id","status","onDeleteData","delete","responseData","filter","item","alert","textAlign","map","row","name","author","publications","e"],"sources":["/Users/aravindhan/Downloads/formik-library-mgmt-main/src/Listbooks.js"],"sourcesContent":["import './App.css';\r\nimport React,{useState,useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport Table from 'react-bootstrap/Table';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Link,useNavigate } from 'react-router-dom';\r\nimport Dashboard from './Dashboard';\r\nimport Createbook from './Createbook';\r\n\r\nfunction Listbooks(){\r\n    const navigate = useNavigate();\r\n\r\n    const [userdata,setUserdata]=useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    \r\nuseEffect(() => { \r\n    async function getData(){\r\n      setLoading(true);\r\n      try {\r\n            const response=await axios.get(\"https://6341636a20f1f9d7997200a7.mockapi.io/books\");\r\n        setUserdata(response.data);  \r\n      }\r\n      catch(error){\r\n\r\n      }\r\n      setLoading(false);\r\n    }        \r\n    getData();//call user data when loading the file\r\n    \r\n},[]);\r\n\r\nconst handleProceed = (id,status) => {\r\n    if(status===1){  navigate(`/Editbook/${id}`); }else{  }\r\n  };\r\n\r\n  async function onDeleteData(id){\r\n    setLoading(true);\r\n    try {\r\n     await axios.delete(`https://6341636a20f1f9d7997200a7.mockapi.io/books/${id}`);\r\n    var responseData=userdata.filter(item => id !== item.id);\r\n    setUserdata(responseData);  \r\n     alert('deleted successfully');\r\n    }catch(error){\r\n\r\n    }\r\n    setLoading(false);\r\n  }  \r\n\r\n    return (\r\n        <>\r\n         <h1>Welcome to Dashboard, Library MANAGEMENT using formik</h1>\r\n         <h4><Link to=\"/\" element={<Dashboard />}>Dashboard</Link> |<Link to=\"/Createbook\" element={<Createbook />}>Create Book</Link></h4>\r\n         <h2 style={{textAlign:\"center\"}}>List Books</h2>\r\n         {loading && <div className='loading'>Loading</div>}\r\n    {!loading && (\r\n         \r\n    <Table striped bordered hover className='table'>\r\n    <thead>\r\n     <tr>\r\n       <th>Id</th>\r\n       <th>Name</th>\r\n       <th>Author</th>\r\n       <th>Publications</th>\r\n       <th>Action</th>\r\n       </tr>\r\n       </thead> \r\n       <tbody>   \r\n       {userdata ? (\r\n         userdata.map((row) => (   \r\n       <tr key={row.id}>\r\n       <td>{row.id}</td>\r\n       <td>{row.name}</td>\r\n       <td>{row.author}</td>\r\n       <td>{row.publications}</td>\r\n        <td>\r\n          <Button onClick={(e)=>handleProceed(row.id,1)}>Update</Button><br/>\r\n          <Button onClick={()=>onDeleteData(row.id)}>Delete</Button>\r\n       </td>\r\n       </tr>\r\n     )))\r\n     :\" Loading...\" }\r\n     </tbody>\r\n    </Table>\r\n    )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Listbooks;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}